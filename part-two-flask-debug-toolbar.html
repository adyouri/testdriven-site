<!DOCTYPE html>
<html>

  <head>
  <!-- meta -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="shortcut icon" type="image/png" href="/favicon.png">
  <!-- og -->
  
  <!-- description -->
  
  <!-- keywords -->
  
  <!-- title -->
  
    <title>Microservices with Docker, Flask, and React - Flask Debug Toolbar</title>
    <meta property="og:title" content="Microservices with Docker, Flask, and React - Flask Debug Toolbar" />
  
  <!-- styles -->
  <link rel="stylesheet" href="/assets/vendor/bootstrap.min.css">
  <link href="//use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
  <link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
  <link href="/assets/css/styles.css?1527599993925016000" rel="stylesheet">
</head>


  <body>

    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
  <div class="container">
    <a class="navbar-brand" href="/">
      <img
        class="nav-logo" src="/assets/img/test_driven_io_full_logo_white_text.svg" alt="testdriven.io"
      />
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarsExampleDefault">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="/">Course</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/course-contents">Contents</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/testimonials">Testimonials</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/blog">Blog</a>
        </li>
      </ul>
    </div>
    <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex">
      <li class="nav-item">
        <a class="nav-link" href="https://twitter.com/testdrivenio"><i class="fab fa-twitter"></i></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://github.com/testdrivenio"><i class="fab fa-github"></i></a>
      </li>
      <li class="nav-item nav-purcahse-btn">
        <a class="btn btn-outline-warning" href="https://gum.co/flask">Purchase the Course</a>
      </li>
  </ul>
  </div>
</nav>


    <div class="container">
      <div class="row">

        <div class="col-sm-3 d-none d-md-block">
  <div id="toc-block" class="collection">
    <p style="text-align:center;margin-bottom:7px;font-style:italic">Preview:</p>

    <ul class="collapsible collapsible-accordion">
      <!--  init break_flag -->
      

      <!-- outer loop -->
      
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          
          <li>
            <!-- create header for part -->
            <h5 class="btn btn-outline-dark btn-block" data-toggle="collapse" href="#collapse1">
              Part 1
            </h5>
            <!-- create ul for hidden part content -->
            <ul data-part="1" class="collapse" id="collapse1" style="padding:0">

              <!-- nested loop -->
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-one-intro">
                          Introduction
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-one-microservices">
                          Microservices
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-one-app-overview">
                          App Overview
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-one-getting-started">
                          Getting Started
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-one-docker-config">
                          Docker Config
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-one-postgres-setup">
                          Postgres Setup
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-one-test-setup">
                          Test Setup
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-one-flask-blueprints">
                          Flask Blueprints
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-one-restful-routes">
                          RESTful Routes
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-one-deployment">
                          Deployment
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-one-jinja-templates">
                          Jinja Templates
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-one-workflow">
                          Workflow
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-one-structure">
                          Structure
                        </a>
                      </span>
                    </li>
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
              <br>
            </ul>
          
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          
          <li>
            <!-- create header for part -->
            <h5 class="btn btn-outline-dark btn-block" data-toggle="collapse" href="#collapse2">
              Part 2
            </h5>
            <!-- create ul for hidden part content -->
            <ul data-part="2" class="collapse" id="collapse2" style="padding:0">

              <!-- nested loop -->
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-two-intro">
                          Introduction
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-two-code-coverage-and-quality">
                          Code Coverage and Quality
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-two-continuous-integration">
                          Continuous Integration
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-two-flask-debug-toolbar">
                          Flask Debug Toolbar
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-two-react-setup">
                          React Setup
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-two-testing-react">
                          Testing React
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-two-react-forms">
                          React Forms
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-two-react-and-docker">
                          React and Docker
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-two-next-steps">
                          Next Steps
                        </a>
                      </span>
                    </li>
                
              
                
                  <li>
                      <span class="badge">&bull;</span>
                      <span>
                        <a href="https://testdriven.io/part-two-structure">
                          Structure
                        </a>
                      </span>
                    </li>
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
              <br>
            </ul>
          
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
        <!-- resets break_flag if the current post_part has incremented -->
        
        <!-- creates header and content for each part -->
        <!-- break_flag prevents header and content creation being repeated for each post.part -->
        
          <!-- stops nested loop after first itration  -->
          
        
      </li>
    </ul>

    <p style="text-align:center;margin-bottom:7px;font-style:italic">Purchase:</p>
    <a class="btn btn-outline-success" href="https://gum.co/flask" style="margin-left:10px;margin-right:5px;display:block;">Get All 7 Parts!</a>
  </div>
</div>


        <div class="col-md-9">

          <h1>Flask Debug Toolbar</h1>

          

            <h5>Part 2, Lesson 4</h5>

            <div class="page-nav">
              <br>
              
                <a class="btn btn-outline-success" href="https://testdriven.io/part-two-continuous-integration">&laquo; Continuous Integration</a>
              
              
                <a class="btn btn-outline-success" href="https://testdriven.io/part-two-react-setup">React Setup &raquo;</a>
              
            </div>

            
  
    <br>
    <a class="twitter-share-button" data-show-count="false" href="https://twitter.com/intent/tweet?text=Microservices with Docker, Flask, and React - Flask Debug Toolbar&amp;url=https%3A%2F%2Ftestdriven.io/part-two-flask-debug-toolbar&amp;via=testdrivenio" rel="nofollow" target="_blank" title="Share on Twitter"></a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  



            <br><br>

          

          <p>Let’s wire up the <a href="https://flask-debugtoolbar.readthedocs.io">Flask Debug Toolbar</a> before diving into React…</p>

<hr />

<p>Flask Debug Toolbar is a Flask extension that helps you debug your applications. It adds a debugging toolbar into the view which provides info on HTTP headers, request variables, configuration settings, and the number of SQLAlchemy queries it took to render the view. You can use this information to find bottlenecks in the rendering of the view.</p>

<p>Add the package to the <em>requirements.txt</em> file:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>flask-debugtoolbar==0.10.1
</code></pre></div></div>

<p>To enable, create an instance of the toolbar and then add it to the app in <code class="highlighter-rouge">create_app()</code> in <em>services/users/project/__init__.py</em>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># services/users/project/__init__.py</span>


<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="kn">from</span> <span class="nn">flask_sqlalchemy</span> <span class="kn">import</span> <span class="n">SQLAlchemy</span>
<span class="kn">from</span> <span class="nn">flask_debugtoolbar</span> <span class="kn">import</span> <span class="n">DebugToolbarExtension</span>


<span class="c"># instantiate the extensions</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">SQLAlchemy</span><span class="p">()</span>
<span class="n">toolbar</span> <span class="o">=</span> <span class="n">DebugToolbarExtension</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">create_app</span><span class="p">(</span><span class="n">script_info</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>

    <span class="c"># instantiate the app</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>

    <span class="c"># set config</span>
    <span class="n">app_settings</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s">'APP_SETTINGS'</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">from_object</span><span class="p">(</span><span class="n">app_settings</span><span class="p">)</span>

    <span class="c"># set up extensions</span>
    <span class="n">db</span><span class="o">.</span><span class="n">init_app</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
    <span class="n">toolbar</span><span class="o">.</span><span class="n">init_app</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>

    <span class="c"># register blueprints</span>
    <span class="kn">from</span> <span class="nn">project.api.users</span> <span class="kn">import</span> <span class="n">users_blueprint</span>
    <span class="n">app</span><span class="o">.</span><span class="n">register_blueprint</span><span class="p">(</span><span class="n">users_blueprint</span><span class="p">)</span>

    <span class="c"># shell context for flask cli</span>
    <span class="n">app</span><span class="o">.</span><span class="n">shell_context_processor</span><span class="p">({</span><span class="s">'app'</span><span class="p">:</span> <span class="n">app</span><span class="p">,</span> <span class="s">'db'</span><span class="p">:</span> <span class="n">db</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">app</span>
</code></pre></div></div>

<p>Next, update the config:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># services/users/project/config.py</span>


<span class="kn">import</span> <span class="nn">os</span>


<span class="k">class</span> <span class="nc">BaseConfig</span><span class="p">:</span>
    <span class="s">"""Base configuration"""</span>
    <span class="n">TESTING</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">SQLALCHEMY_TRACK_MODIFICATIONS</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">SECRET_KEY</span> <span class="o">=</span> <span class="s">'my_precious'</span>
    <span class="n">DEBUG_TB_ENABLED</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">DEBUG_TB_INTERCEPT_REDIRECTS</span> <span class="o">=</span> <span class="bp">False</span>


<span class="k">class</span> <span class="nc">DevelopmentConfig</span><span class="p">(</span><span class="n">BaseConfig</span><span class="p">):</span>
    <span class="s">"""Development configuration"""</span>
    <span class="n">SQLALCHEMY_DATABASE_URI</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'DATABASE_URL'</span><span class="p">)</span>
    <span class="n">DEBUG_TB_ENABLED</span> <span class="o">=</span> <span class="bp">True</span>


<span class="k">class</span> <span class="nc">TestingConfig</span><span class="p">(</span><span class="n">BaseConfig</span><span class="p">):</span>
    <span class="s">"""Testing configuration"""</span>
    <span class="n">TESTING</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">SQLALCHEMY_DATABASE_URI</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'DATABASE_TEST_URL'</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">ProductionConfig</span><span class="p">(</span><span class="n">BaseConfig</span><span class="p">):</span>
    <span class="s">"""Production configuration"""</span>
    <span class="n">SQLALCHEMY_DATABASE_URI</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'DATABASE_URL'</span><span class="p">)</span>
</code></pre></div></div>

<blockquote>
  <p>Review the <a href="https://flask-debugtoolbar.readthedocs.io/en/latest/#configuration">docs</a> for more info on the configuration options.</p>
</blockquote>

<p>Add the new configuration to the tests in <em>services/users/project/tests/test_config.py</em>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># services/users/project/tests/test_config.py</span>


<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">unittest</span>

<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">current_app</span>
<span class="kn">from</span> <span class="nn">flask_testing</span> <span class="kn">import</span> <span class="n">TestCase</span>

<span class="kn">from</span> <span class="nn">project</span> <span class="kn">import</span> <span class="n">create_app</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">create_app</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">TestDevelopmentConfig</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">create_app</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">from_object</span><span class="p">(</span><span class="s">'project.config.DevelopmentConfig'</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">app</span>

    <span class="k">def</span> <span class="nf">test_app_is_development</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s">'SECRET_KEY'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'my_precious'</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">current_app</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span>
            <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s">'SQLALCHEMY_DATABASE_URI'</span><span class="p">]</span> <span class="o">==</span>
            <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'DATABASE_URL'</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s">'DEBUG_TB_ENABLED'</span><span class="p">])</span>


<span class="k">class</span> <span class="nc">TestTestingConfig</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">create_app</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">from_object</span><span class="p">(</span><span class="s">'project.config.TestingConfig'</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">app</span>

    <span class="k">def</span> <span class="nf">test_app_is_testing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s">'SECRET_KEY'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'my_precious'</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s">'TESTING'</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s">'PRESERVE_CONTEXT_ON_EXCEPTION'</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span>
            <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s">'SQLALCHEMY_DATABASE_URI'</span><span class="p">]</span> <span class="o">==</span>
            <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'DATABASE_TEST_URL'</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s">'DEBUG_TB_ENABLED'</span><span class="p">])</span>


<span class="k">class</span> <span class="nc">TestProductionConfig</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">create_app</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">from_object</span><span class="p">(</span><span class="s">'project.config.ProductionConfig'</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">app</span>

    <span class="k">def</span> <span class="nf">test_app_is_production</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s">'SECRET_KEY'</span><span class="p">]</span> <span class="o">==</span> <span class="s">'my_precious'</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s">'TESTING'</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s">'DEBUG_TB_ENABLED'</span><span class="p">])</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</code></pre></div></div>

<p>Update the containers and run the tests:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-compose <span class="nt">-f</span> docker-compose-dev.yml up <span class="nt">-d</span>
<span class="nv">$ </span>docker-compose <span class="nt">-f</span> docker-compose-dev.yml <span class="se">\</span>
  run <span class="nb">users </span>python manage.py <span class="nb">test</span>
</code></pre></div></div>

<p>Finally, grab the IP associated with the <code class="highlighter-rouge">testdriven-dev</code> machine:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker-machine ip testdriven-dev
</code></pre></div></div>

<p>Navigate to <a href="http://DOCKER_MACHINE_IP">http://DOCKER_MACHINE_IP</a> in your browser to view the toolbar in action:</p>

<div style="text-align:left;">
  <img src="/assets/img/course/01_flask-debug-toolbar.png" style="max-width: 100%; border:0; box-shadow: none;" alt="flask debug toolbar" />
</div>

<blockquote>
  <p>You may be wondering why we installed the toolbar in the first place since we won’t be using server-rendered views all that much in this course. Well, it can still come in handy from time to time and it’s a nice to have if you ever do serve up some Jinja templates.</p>
</blockquote>


          

            
  
    <br>
    <a class="twitter-share-button" data-show-count="false" href="https://twitter.com/intent/tweet?text=Microservices with Docker, Flask, and React - Flask Debug Toolbar&amp;url=https%3A%2F%2Ftestdriven.io/part-two-flask-debug-toolbar&amp;via=testdrivenio" rel="nofollow" target="_blank" title="Share on Twitter"></a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  



            <div class="page-nav">
              <br>
              
                <a class="btn btn-outline-success" href="https://testdriven.io/part-two-continuous-integration">&laquo; Continuous Integration</a>
              
              
                <a class="btn btn-outline-success" href="https://testdriven.io/part-two-react-setup">React Setup &raquo;</a>
              
            </div>

          

        </div>

      </div>
    </div>

     <footer class="footer text-center">
  <div class="container">
    <hr>
    <small>
      <p>
      <span>&copy; Copyright 2018</span>
      <a href="http://testdriven.io">TestDriven.io</a>.
      <br>
      <span>Developed by </span>
      <a href="http://mherman.org/">Michael Herman</a>.
      <br>
      <span>Questions? </span>
      <a href="mailto:michael@mherman.org">michael@mherman.org</a>
      <p>
    </small>
  </div>
</footer>


    <script
  src="//code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"
></script>
<script
  src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
  crossorigin="anonymous"
></script>
<script
  type="text/javascript"
  src="/assets/js/main.js"
></script>
<script
  type="text/javascript"
  src="https://gumroad.com/js/gumroad.js"
></script>
<!-- addthis -->

  <script
    type="text/javascript"
    src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-50e5f1cc35ad077d"
  ></script>



    
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-100160465-1', 'auto');
    ga('send', 'pageview');

  </script>



  </body>
</html>
